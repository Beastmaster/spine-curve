# Extract Spine Curve From EOS Image #

## Method 
Fit a spline based on gradient map and image intensity.


## File Structure
1. GUI  
1.1 Draw_Spine_Curve.m  
1.2 Draw_Spine_Curve.fig
2. Top level functions  
  1.1 GrayScaleBased.m (Implement main function)  
  1.2 eos_pre_process.m  
  1.3 find_cobbs.m   
  1.4 plot_gray.m  
3. Trail and scripts  
  3.1 active_contour_trail.m  
  3.2 **bundle_process.m**: input a txt file listing all images tobe processed (often generated by a python scripts). change "dst_dir" to where to store result. A output.txt will be generated to store cobb angle and curve level in source dir.
4. Folder-try_svm  
  try to train a classifier to find vertebra 
5. Folder-Statistics  
  Analysis of test result

## GUI Manual
1. Load image:   
click "Open Image", a dicom file will be selected and display. A spline will be generated automatically. Cobb angles will be measured.

2. Adjust spine line if not satisfied  
** Method1: click "Adjust Curve";   
** Method2: press keyboard "a";   
a cross hair will track your mouse, press left mouse button to confirm the new position. The spline and Cobb angles will be updated.

3. Save the result  
Click "Save", a jpg picture will be saved to a specified location.




