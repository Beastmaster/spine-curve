# Extract Spine Curve From EOS Image #

## Method 
Fit a spline based on gradient map and image intensity.


## File Structure
1. GUI
  * Draw_Spine_Curve.m
  * Draw_Spine_Curve.fig
2. Top level functions
  * GrayScaleBased.m (Implement main function)
  * eos_pre_process.m
  * find_cobbs.m
  * plot_gray.m
3. Trail and scripts
  * active_contour_trail.m
  * **bundle_process.m**: input a txt file listing all images tobe processed (often generated by a python scripts). change "dst_dir" to where to store result. A output.txt will be generated to store cobb angle and curve level in source dir.
4. Folder-try_svm
  * try to train a classifier to find vertebra 
5. Folder-Statistics
  * Analysis of test result
## GUI
1. Load image:
click "Open Image", a dicom file will be selected and display.

2. Generate spine line:
click "Adjust Curve", a spine line will be detected automatically.

3. Adjust spine line if not satisfied
click "Adjust Curve" again, you are allowed to select a position. A new curve will show.

4. Calculate cobb angle
Click "Done". If the curve describes the spine properly, the cobb angle will display in the text edit.

5. Save the result
Click "Save", a jpg picture will be saved to a specified location.








